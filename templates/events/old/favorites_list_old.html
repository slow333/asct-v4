{% extends 'base/base.html' %}
{% load static %}
{% block title %} Favorites 목록 {% endblock %}
{% block content %}
{% include 'events/_nav.html' %}
<section>
    <div class="d-flex align-items-baseline gap-3 mb-2 justify-content-center">
        <h1>Favorites List </h1>
        <div class="badge text-bg-secondary" style="height: 20px; margin-top:12px;">
            {{ page_obj.paginator.count }}</div>
    </div>
    {% for favorite in page_obj %}
    <div class="d-flex justify-content-between align-items-center mb-2 pb-2 border-bottom border-secondary">
        <div class="d-flex align-items-center">
            <div style="width: 80px; height:42px">
                <img src="{{ favorite.thumbnail.url }}" alt="" height="40">
            </div>
            <a href="{% url 'events:favorite-details' favorite.id %}">{{ favorite.name }}</a>
        </div>
        {% if rquest.user in events_favorites or request.user.is_superuser %}
        <div class="text-end">
            <a href="{% url 'events:favorite-update' favorite.id %}" class="btn btn-outline-secondary btn-sm">수정</a>
            <form action="{% url 'events:favorite-delete' favorite.id %}" method="POST" class="d-inline" onsubmit="return confirm('정말로 삭제하시겠습니까?');">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-danger btn-sm">삭제</button>
            </form>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</section>

{% endblock %}